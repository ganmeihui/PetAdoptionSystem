<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Signup</title>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css" />
    <link rel="stylesheet" href="user-signup.css">
  </head>
  <body>
    <form action="user-signup.php" method="post">
      <h2>Sign Up</h2>
      <div class="form-group username">
        <label for="username">Username</label>
        <input type="text" id="username" name="username" placeholder="Enter your username" required>
      </div>

      <div class="form-group gender">
        <label for="gender">Gender</label>
        <select id="gender" name="gender" required>
          <option value="" selected disabled>Select your gender</option>
          <option value="Male">Male</option>
          <option value="Female">Female</option>
        </select>
      </div>

      <div class="form-group date">
        <label for="date">Birth Date</label>
        <input type="date" id="date" name="date" placeholder="Select your date" required>
      </div>

      <div class="form-group mobile">
        <label for="mobile">Mobile Number</label>
        <input type="tel" id="mobile" name="mobile" placeholder="Enter your mobile number" required>
      </div>

      <div class="form-group email">
        <label for="email">Email Address</label>
        <input type="email" id="email" name="email" placeholder="Enter your email address" 
        pattern="/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/" title="Must be a valid email address" required>
      </div>

      <div class="form-group password">
        <label for="password">Password</label>
        <input type="password" id="password" name="password" placeholder="Enter your password"
        pattern="(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}" title="Must contain at least ONE uppercase, ONE lowercase, ONE special character, ONE digit from 0 to 9, NO space, and it must be 8 or more characters long" required>
        <i id="pass-toggle-btn" class="fa-solid fa-eye-slash"></i>
      </div>

      <div class="form-group password">
        <label for="password">Confirm Password</label>
        <input type="password" id="confirm_password" name="confirm_password" placeholder="Re-enter your password" required>
        <i id="cpass-toggle-btn" class="fa-solid fa-eye-slash"></i>
      </div>

      <div class="form-group submit-btn">
        <input type="submit" value="Sign Up">
      </div>

      <div>Already have an account? <a class="login" href="user-login.html">Login Now</a></div>
    </form>

    <!-- <script src="user-signup.js"></script> -->
    <script>
    const passwordInput = document.getElementById("password");
    const confirmpasswordInput = document.getElementById("confirm_password");
    const passToggleBtn = document.getElementById("pass-toggle-btn");
    const cpassToggleBtn = document.getElementById("cpass-toggle-btn");

          // Toggling password visibility
    passToggleBtn.addEventListener('click', () => {
        passToggleBtn.className = passwordInput.type === "password" ? "fa-solid fa-eye" : "fa-solid fa-eye-slash";
        passwordInput.type = passwordInput.type === "password" ? "text" : "password";
    });

    cpassToggleBtn.addEventListener('click', () => {
        cpassToggleBtn.className = confirmpasswordInput.type === "password" ? "fa-solid fa-eye" : "fa-solid fa-eye-slash";
        confirmpasswordInput.type = confirmpasswordInput.type === "password" ? "text" : "password";
    });

    // Validate password matching
    function validatePassword(){
      if(passwordInput.value != confirmpasswordInput.value) {
        confirmpasswordInput.setCustomValidity("Passwords Don't Match");
      } else {
        confirmpasswordInput.setCustomValidity('');
      }
    }

    passwordInput.onchange = validatePassword;
    confirmpasswordInput.onkeyup = validatePassword;

    </script>
  </body>
</html>